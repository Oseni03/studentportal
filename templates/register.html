{% extends 'base.html' %} 
{% load static %} 
{% load widget_tweaks %}

{% block content %}
<div class="container">
  <form action="" class="form-group" method="POST">
    {% csrf_token %}
    <fieldset class="form-group">
      <legend class="border-bottom mb-4">Join Today</legend>
    </fieldset>
    <label>{{ form.username.label_tag }}</label>
    <div style='color: red;'>{{ form.username.errors }}</div>
    {% render_field form.username class="form-control" hx-post="/check-username/" hx-swap="outerhtml" hx-trigger="keyup delay:2s" hx-target="#username-errors" %}
    <div id="username-errors"></div>
  
    <label>{{ form.password1.label_tag }}</label>
    {{ form.password1.errors }}
    {% render_field form.password1 class="form-control" %}
  
    <label>{{ form.password2.label_tag }}</label>
    <div style='color: red;'>{{ form.password2.errors }}</div>
    {% render_field form.password2 class="form-control" hx-post="/check-password/" hx-swap="outerhtml" hx-trigger="keyup delay:2s" hx-target="#password-errors" %}
    <div id="password-errors"></div>
  
    <br>
    <div class="form-group">
      <button href="" class="btn btn-outline-info" type="submit">
        Sign Up
      </button>
    </div>
  </form>
  
  <div class="border-top pt-3">
    <small class="text-muted">Already have an account?
      <a class="ml-2" href="{% url 'login' %}">Sign In</a>
    </small>
  </div>
</div>
{% endblock %}